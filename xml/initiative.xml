<?xml version="1.0" encoding="UTF-8" ?>
	<Module>
	  <ModulePrefs title="API Demo">
	    <Require feature="opensocial-templates"/>
	    <Require feature="opensocial-data"/>
	    <Require feature="views"/>
	    <Require feature="dynamic-height"/>
	    <Require feature="osapi"/>
	  </ModulePrefs>
	  <UserPref name="iframeURL" display_name="URL to content" required="true"/>
  <UserPref name="scroll" display_name="Display scrollbar" default_value="auto" datatype="enum">
    <EnumValue value="auto" display_value="Automatic"/>
    <EnumValue value="no" display_value="No"/>
    <EnumValue value="yes" display_value="Yes"/>
  </UserPref>
	  <Content type="html" view="profile">
	  <![CDATA[
		<!--<script src='http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js' type='text/javascript'></script>-->

	       <script src='../resource/js/jquery.min.js' type='text/javascript'></script>


	    <script type="text/javascript" language="javascript">
			/* Global Varaibles Start */ 
			   var sabaCertificate ;
			   var employeeID ;
			   var userName ;
			   var urlAPIRole ;   
			   var varRoleID;
			   var refreshInterval=1;
			   var  errorAPIRoleAssigmnet = "Insufficient Privileges: You do not have Can add required/optional role for self privilege on Person, Internal";
			   var varRoleDetailPDFlocation ;//= "https://raw.githubusercontent.com/poc-org/initiative/itg/doc/";
		   /* Global Varaibles END */ 

		viewData = gadgets.views.getParams();   
		    sabaCertificate =  viewData.sabaContext.apiCertificate;
		    userName = $.trim(viewData.sabaContext.userName);
		    employeeID = $.trim(viewData.sabaContext.userId) ;
		    urlAPIRole =  $.trim(decodeURIComponent(viewData.sabaParams.saba_api_url))+'/v1/' ;
			gadgets.util.registerOnLoadHandler(doRender);
			
			function doRender(){
    // setup variables
    var prefs = new gadgets.Prefs();
    var iframeURL = prefs.getString('https://rawgit.com/dxcuni/admintool/itg/pages/admintool.html');
    var scroll = prefs.getString('scroll');
    var height = 800;
    var width = 600;

    if (gadgets.window) {
      var viewport = gadgets.window.getViewportDimensions();
      if (viewport.width) {
        var width = viewport.width;
      }
      if (viewport.height) {
        var height = viewport.height;
      }
    }

    var iframe = document.createElement('iframe');
    iframe.setAttribute('width', width + 'px');
    iframe.setAttribute('height', height + 'px');
    iframe.setAttribute('frameborder','no');
    if(scroll){
      iframe.setAttribute('scrolling', scroll);
    }
    iframe.setAttribute('src', iframeURL);

    // set the slideshow to the placeholder div
    var dest = document.getElementById('dest');
    dest.innerHTML = '';
    dest.appendChild(iframe);
  }
			/* Call to Get the Role PDF File   END  */
	/* Error Message Handling END */
	    </script>
	    <script type="text/os-template">
	   
	    <!-- Search Box Start-->
	<div  style="height:600px">
	    <!-- PDF Overview Confirms Previous Box Start-->
	    <div id="divPDFConfirmPreview" style="display:none;" height="500"><!--PENNY TEST height 400 to 500-->
		<div>
		    <center>
			<table border="10" cellpadding="0" cellspacing="10" >
			    <tr>
				<td align="center" style="font-weight:bold;" width="930px" height="500"> 
				    <div id="divPDFFrame" ></div>
				</td>
			    </tr>
			
			</table>
		    </center>
		</div>
	    </div>
	</div>
	    <!-- API Error Messgae Box END-->
	    </script>
	  ]]>
	  </Content>
	</Module>
